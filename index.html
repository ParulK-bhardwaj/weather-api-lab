<!DOCTYPE html>
<html>
  <head>
    <title>Ms Merriweather</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="container">
      <h1 id="temp">
        <!--Temp -->
      </h1>
      <h2 id="city">
        <!--City -->
      </h2>
      <p id="desc">
        <!-- Description -->
      </p>
      <p id="fl">
        <!--Feels like - Temperature -->
      </p>
      <p id="temp_max">
        <!-- Maximum temperature -->
      </p>
      <p id="temp_min">
        <!-- Minimum temperature -->
      </p>
      <p id="wind">
        <!-- Wind speed -->
      </p>
      <p id="pressure">
        <!-- Pressure -->
      </p>
      <p id="humd">
        <!-- humidity -->
      </p>
      <img id="icon" />
      <form id="form">
        <input 
          id="zip" 
          type="number" 
          placeholder="zip code"
          title="Please Enter a valid Zip Code"
          pattern="^\d{5}(?:[-\s]\d{4})?$"
        >
        <button type="submit">Search</button>
      </form>
    </div>
    <script src="index.js"></script>
    <script>
      // ------------------------------------------------------
      // Developer Code

      // Get Element refererences
      const tempEl = document.getElementById('temp')
      const descEl = document.getElementById('desc')
      const pressureEl = document.getElementById('pressure')
      const humdEl = document.getElementById('humd')
      const tempMaxEl = document.getElementById("temp_max")
      const tempMinEl = document.getElementById("temp_min")
      const cityEl = document.getElementById("city")
      const flEl = document.getElementById("fl")
      const windEl = document.getElementById("wind")
      const iconEL = document.getElementById("icon")
      const formEl = document.getElementById('form')
      const zipInput = document.getElementById('zip')
      const apiKey = '467355df4c808dd6134a3b64e9ace282'

      // callback function
      function handleData(data) {
        cityEl.innerHTML = `City: ${data.city}`
        tempEl.innerHTML = `Temperature: ${data.temp}`
        descEl.innerHTML = `Description: ${data.desc}`
        flEl.innerHTML = `Feels Like: ${data.feels_like}`
        pressureEl.innerHTML = `Pressure: ${data.pressure}`
        humdEl.innerHTML = `Humidity: ${data.humidity}`
        tempMaxEl.innerHTML = `Max Temp.: ${data.temp_max}`
        tempMinEl.innerHTML = `Min Temp.: ${data.temp_min}`
        windEl.innerHTML = `Wind: ${data.wind}`
        iconEL.src = `https://openweathermap.org/img/w/${data.icon}.png`;
      }

      function handleError(err) {
        console.log("Error:", err)
      }
      // Define event listeners
      formEl.addEventListener('submit', (e) => {
        e.preventDefault()
        const zip = zipInput.value
        const unit = 'metric'
        getWeather(zip, apiKey, unit)
          .then(handleData)
          .catch(handleError)
      })

    </script>
  </body>
</html>